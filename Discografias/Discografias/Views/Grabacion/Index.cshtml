@model IEnumerable<DiscografiaModel.Models.Grabacion>

@{
	ViewBag.Title = "Index";
}

<h2>Listados de Grabaciones</h2>

@*Search O filter*@
<div class="row">
	<div class="col-sm-2">
		@Html.ActionLink("Create New", "Create", new { @Style = "margin-botton:10px" }, new { @class = "btn btn-success" })
	</div>
	<div class="col-lg-10">
		<input class="form-control" id="input_search" type="text" name="search" placeholder="busqueda" />
	</div>
</div>
<br />
<div class="row">
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>
					@Html.DisplayNameFor(model => model.Titulo)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Num_Tema)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Descripcion)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Compañia.nombre)
				</th>
				<th>
					Acciones
				</th>
			</tr>
		</thead>
		<tbody id="table_body">
			@foreach (var item in Model)
			{
				<tr>
					<td>
						@Html.DisplayFor(modelItem => item.Titulo)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Num_Tema)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Descripcion)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Compañia.nombre)
					</td>
					<td>
						@Html.ActionLink("Edit", "Edit", new { id = item.Id_Grabacion }, new { @class = "btn btn-primary " })
						@Html.ActionLink("Details", "Details", new { id = item.Id_Grabacion }, new { @class = "btn btn-success " })
						@Html.ActionLink("Delete", "Delete", new { id = item.Id_Grabacion }, new { @class = "btn btn-danger " })
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>
@*Realiza la busqueda, en la tabla*@
@section scripts
	{
	<script>
		$(document).ready(function () {
			$("#input_search").on("keyup", function () {
				var value = $(this).val().toLowerCase();
				$("#table_body tr").filter(function () {
					$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
				});
			});
		});
	</script>
}

